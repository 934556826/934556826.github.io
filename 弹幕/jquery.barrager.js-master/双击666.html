<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="dist/css/barrager.css">
    <link rel="stylesheet" type="text/css" href="static/pick-a-color/css/pick-a-color-1.2.3.min.css">
    <link type="text/css" rel="stylesheet" href="static/syntaxhighlighter/styles/shCoreDefault.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

    <title>卢本伟直播间</title>
    <style>
        .media {
            margin: 0 auto;
            width: 720px;
            height: auto;
        }

        .form-control {
            width: 87.5%;
            display: inline-block;
        }
    </style>
</head>

<body>
    <div class="media">
        <video id="media" width="720" height="400" controls autoplay> 
            <source src="./EVA[1080P].MP4.mp4">
              </video>
        <input type="text" class="form-control" placeholder="请输入弹幕">
        <button type="button" class="btn btn-info">发送弹幕</button>
        <button type="button" class="btn btn-primary">清空弹幕</button>
    </div>
    <script>
        var spring;
        document.querySelector('.form-control').oninput = function () {
            spring = this.value;
            console.log(spring);
        }
        function xxx(){
            var item = {
                img: '', //图片 
                info: spring, //文字 
                href: '', //链接 
                close: true, //显示关闭按钮 
                speed: 8, //延迟,单位秒,默认6 
                // bottom: 70, //距离底部高度,单位px,默认随机 
                color: '#fff', //颜色,默认白色 
                old_ie_color: '#000000', //ie低版兼容色,不能与网页背景相同,默认黑色 
            }
            $('body').barrager(item);
            document.querySelector('.form-control').value = '';
        }

        
        document.querySelector('.btn-info').onclick = function () {
            xxx();
        }

        document.querySelector('.btn-primary').onclick = function(){
            $.fn.barrager.removeAll();
        }

        document.onkeydown = function (e) { // 回车提交表单
            // 兼容FF和IE和Opera
            var theEvent = window.event || e;
            var code = theEvent.keyCode || theEvent.which || theEvent.charCode;
            if (code == 13) {
                xxx();
            }
        }
    </script>
    <!-- JS dependencies -->
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>

    <script type="text/javascript" src="static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/tinycolor-0.9.15.min.js"></script>
    <script type="text/javascript" src="dist/js/jquery.barrager.min.js"></script>
    <script type="text/javascript" src="static/syntaxhighlighter/scripts/shCore.js"></script>
    <script type="text/javascript" src="static/syntaxhighlighter/scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="static/syntaxhighlighter/scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="static/pick-a-color/js/pick-a-color-1.2.3.min.js"></script>

    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
</body>

</html>